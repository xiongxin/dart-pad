<!-- Copyright (c) 2015, the Dart project authors.  Please see the AUTHORS file
     for details. All rights reserved. Use of this source code is governed by a
     BSD-style license that can be found in the LICENSE file. -->

<link rel="import" href="imports.html"/>
<link rel="import" href="../styles/embed_style.html"/>

<dom-module id="selection-toolbar">
  <style>
    .tabs {
      background: #485D67;
      top: inherit;
    }

    paper-tabs {
      height: 36px;
      font-weight: 400;
    }
  </style>
  <template>
    <paper-tabs id="selector-tabs" selected="0" class="bottom fit vertical tabs relative">
      <paper-tab name="dart">Dart</paper-tab>
      <paper-tab name="html">HTML</paper-tab>
      <paper-tab name="css">CSS</paper-tab>
    </paper-tabs>
  </template>

  <script>
    Polymer({
      is: 'selection-toolbar'
    });
  </script>
</dom-module>

<dom-module id="dartpad-buttons">
  <style>
    .button-bar {
      position: absolute;
      right: 16px;
      top: 16px;
      z-index: 10;
    }

    paper-fab + paper-fab {
      margin-left: 8px;
    }

    .red {
      background-color: #f44336;
    }
  </style>
  <style is="custom-style">
    .grey {
      --paper-fab-background: var(--paper-grey-500);
      --paper-fab-keyboard-focus-background: var(--paper-grey-900);
    }
    .red {
      --paper-fab-background: var(--paper-red-500);
      --paper-fab-keyboard-focus-background: var(--paper-red-900);
      --paper-fab-disabled-background: var(--paper-red-500);
    }
  </style>
  <template>
    <div class="button-bar">
      <paper-fab class="red" id="run-button" icon="av:play-arrow" mini></paper-fab>
      <paper-fab class="grey" id="export-pad" icon="launch" mini></paper-fab>
    </div>
  </template>

  <script>
    Polymer({
      is: 'dartpad-buttons'
    });
  </script>
</dom-module>

<dom-module id="dartpad-run-button">
  <style>
    .button-bar {
      position: absolute;
      right: 16px;
      top: 16px;
      z-index: 10;
    }

    paper-fab + paper-fab {
      margin-left: 8px;
    }

    .red {
      background-color: #f44336;
    }
  </style>
  <style is="custom-style">
    .red {
      --paper-fab-background: var(--paper-red-500);
      --paper-fab-keyboard-focus-background: var(--paper-red-900);
      --paper-fab-disabled-background: var(--paper-red-500);
    }
  </style>
  <template>
    <div class="button-bar">
      <paper-fab class="red" id="run-button" icon="av:play-arrow" mini></paper-fab>
    </div>
  </template>

  <script>
    Polymer({
      is: 'dartpad-run-button'
    });
  </script>
</dom-module>

<dom-module id="output-toolbar">
  <style>
    .tabs {
      background: #485D67;
      top: inherit;
    }

    paper-tabs {
      height: 36px;
      font-weight: 400;
    }
  </style>
  <template>
    <div>
      <paper-tabs selected="0" class="tabs relative bottom fit vertical">
        <span class="flex"></span>
        <paper-icon-button id="refresh" icon="refresh"></paper-icon-button>
        <paper-icon-button id="launch" icon="launch"></paper-icon-button>
      </paper-tabs>
    </div>
  </template>
  <script>
    Polymer({
      is: 'output-toolbar'
    });
  </script>
</dom-module>

<dom-module id="export-floater">
  <style>
    .rightFloater {
      position: absolute;
      right: 5px;
      z-index: 10;
    }
  </style>
  <template>
    <div class='rightFloater'>
      <paper-icon-button id="launch" icon="launch"></paper-icon-button>
    </div>
  </template>
  <script>
    Polymer({
      is: 'export-floater'
    });
  </script>
</dom-module>

<dom-module id="dartpad-documentation">
  <style>
    :host {
      padding: 8px 8px 8px 0;
    }

    #documentation {
      overflow-y: auto;
      overflow-x: hidden;
    }

    pre {
      overflow-x: auto;
    }
  </style>
  <template>
    <div id="documentation" class='relative flex'></div>
  </template>
  <script>
    Polymer({
      is: 'dartpad-documentation'
    });
  </script>
</dom-module>

<dom-module id="reset-dialog">
  <style>
    #resetDialog {
      min-height: 90px;
      background-color: #333;
      color: #c6c6c6;
    }
    paper-button {
      color: #44ccff;
    }
  </style>
  <template>
    <paper-dialog id="resetDialog" heading="Reset" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
      <p>This will reset all changes. Are you sure?</p>
      <div class="buttons">
        <paper-button id="cancelButton" dismissive default>Cancel</paper-button>
        <span class="flex"></span>
        <paper-button id="affirmButton" affirmative>OK</paper-button>
      </div>
    </paper-dialog>
  </template>
  <script>
    Polymer({
      is: 'reset-dialog'
    });
  </script>
</dom-module>

<dom-module id="menu-bar-icons">
  <style>
    :host {
      height: 36px;
    }

    .tabs {
      background: #485D67;
      top: inherit;
    }

    paper-tabs {
      width: 100%;
      height: 36px;
      font-weight: 400;
    }

    .relativePos {
      position: relative;
    }

    #run-progress {
      width: 100%;
      top: inherit;
    }
  </style>
  <template>
    <div class="layout horizontal flex relativePos">
      <div id="toolbarLeftPanel" class="layout horizontal ">
        <paper-tabs id="selector-tabs" class="tabs relative flex" selected="0">
          <paper-tab name="dart">Dart</paper-tab>
          <paper-tab name="html">HTML</paper-tab>
          <paper-tab name="css">CSS</paper-tab>
        </paper-tabs>
      </div>
      <div id="toolbarRightPanel" class="layout horizontal flex">
        <paper-tabs selected="0" class="tabs flex">
          <span class="flex"></span>
          <paper-icon-button id="refresh" icon="refresh"></paper-icon-button>
          <paper-icon-button id="launch" icon="launch"></paper-icon-button>
        </paper-tabs>
      </div>
      <paper-progress id="run-progress" class="bottom fit" hidden></paper-progress>
    </div>
  </template>
  <script>
    Polymer({
      is: 'menu-bar-icons'
    });
  </script>
</dom-module>

<dom-module id="export-dialog">
  <style>
    paper-button {
      color: #44ccff;
    }

    #exportDialog {
      max-height: fit-content;
      background-color: #333;
      color: #c6c6c6;
    }

    .guide-text {
      padding: 0 24px;
    }

    #export-guide {
      cursor: pointer;
      text-decoration: underline;
    }
  </style>
  <template>
    <paper-dialog id="exportDialog" heading="Export" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
      <h2>Open in DartPad</h2>
      <p>
        Open this sample in DartPad? View our export
        <a id="export-guide" onclick="window.open('https://github.com/dart-lang/dart-pad/wiki/Exporting-Guide');">guide</a>
        for help.
      </p>

      <div class="buttons">
        <paper-button dialog-dismiss id="cancelExportButton">Cancel</paper-button>
        <span class="flex"></span>
        <paper-button dialog-confirm id="affirmExportButton">Export</paper-button>
      </div>
    </paper-dialog>
  </template>
  <script>
    Polymer({
      is: 'export-dialog'
    });
  </script>
</dom-module>

<dom-module id="message-dialog">
  <style></style>
  <template>
    <paper-dialog id="messageDialog">
      <h2></h2>
      <p></p>
      <div class="buttons">
        <paper-button raised dialog-dismiss>Close</paper-button>
      </div>
    </paper-dialog>
  </template>
  <script>
    Polymer({
      is: 'message-dialog'
    });
  </script>
</dom-module>

<dom-module id="dartpad-dom-output">
  <style>
    :host {
      padding: 8px 8px 8px 0;
    }

    :host [hidden] {
      display: none;
    }

    #frameContainer {
      position: fixed;
    }

    #frame {
      border: none;
    }
  </style>
  <template>
    <iframe class="flex layout vertical" id="frame" sandbox="allow-scripts" src="frame.html">
    </iframe>
  </template>
  <script>
    Polymer({
      is: 'dartpad-dom-output'
    });
  </script>
</dom-module>

<dom-module id="error-toast">
  <style>
    :host {
      height: 0;
      width: 0;
      position: relative;
     }
  </style>
  <template>
    <div id="larger">
      <paper-toast id="errorToast" text=""></paper-toast>
    </div>
  </template>
  <script>
    Polymer({
      is: 'error-toast'
    });
  </script>
</dom-module>

<dom-module id="dartpad-editor">
  <style>
    #editpanel {
      margin: 8px;
    }
  </style>
  <template>
    <div id="editpanel" class="relative editor flex"></div>
  </template>
  <script>
    Polymer({
      is: 'dartpad-editor',
      properties: {
        dart: String
      }
    });
  </script>
</dom-module>

<dom-module id="horizontal-splitter">
  <style>
    .inner {
      min-height: 5px;
      box-shadow: rgba(255, 255, 255, 0.07) 0 1px 0;
      border-bottom: 1px solid #121212;
      margin-top: 8px;
      margin-bottom: 8px;
    }
  </style>
  <template>
  <div class="inner flex"></div>
  </template>
  <script>
    Polymer({
      is: 'horizontal-splitter'
    });
  </script>
</dom-module>

<dom-module id="vertical-splitter">
  <style>
    .inner {
      min-height: 5px;
      min-width: 2px;
      box-shadow: rgba(255, 255, 255, 0.07) 1px 1px 0;
      border-left: 1px solid #121212;
      margin-right: 8px;
      margin-left: 8px;
    }
  </style>
  <template>
  <div class="inner flex"></div>
  </template>
  <script>
    Polymer({
      is: 'vertical-splitter'
    });
  </script>
</dom-module>

<dom-module id="dartpad-console">
  <style>
    :host {
      margin: 0 8px 8px 8px;
    }

    #console {
      font-family: 'Inconsolata', monospace;
      font-size: 12pt;
      line-height: 20px;
      overflow-y: auto;
      white-space: pre-wrap;
      height: 0;
    }

    #console .normal {
      color: var(--text-primary-color);
    }

    #console .errorOutput {
      color: #F7977A;
    }

    #strong .errorOutput {
        color: #F7977A;
    }
  </style>
  <template>
    <div id="console" class="relative flex"></div>
  </template>
  <script>
    Polymer({
      is: 'dartpad-console'
    });
  </script>
</dom-module>
